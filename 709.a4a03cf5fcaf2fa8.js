"use strict";(self.webpackChunkAngularWorkoutTracker=self.webpackChunkAngularWorkoutTracker||[]).push([[709],{7041:(fe,M,l)=>{l.r(M),l.d(M,{WorkoutsModule:()=>he});var d=l(6895),h=l(4719),x=l(6179),p=l(5861);class _{constructor(i){const t={weight:0,reps:0,...i};this.weight=t.weight,this.reps=t.reps,this.isComplete=!1}}class v{constructor(i){const t={title:"",sets:[],...i};this.title=t.title,this.sets=t.sets.map(o=>new _(o))}}class S{constructor(i){const t={...i};this.date=t.date,this.duration=t.duration}}class m{constructor(i){const t={exercises:[],history:[],...i};this.id=t.id,this.title=t.title,this.exercises=t.exercises.map(o=>new v(o)),this.history=t.history.map(o=>new S(o))}}var b=l(591),e=l(6738);let f=(()=>{class n{constructor(){this.currentState=new m,this.state$=new b.X(new m)}watch(){return this.state$.asObservable()}set(t){this.currentState=t,this.state$.next(t)}addExercise(t){const o=new v({title:t});o.sets=[new _];const r=[...this.currentState.exercises,o];this.set({...this.currentState,exercises:r})}addSet(t){const o=new _,s=this.currentState,r=s.exercises[t],c=r.sets[r.sets.length-1];c&&(o.reps=c.reps,o.weight=c.weight);const u=[...r.sets,o],g={...r,sets:u},C=this.replaceExerciseAtIndex(t,g);this.set({...s,exercises:C})}updateSet(t,o,s){const r=this.currentState,c=r.exercises[t],u=c.sets.map((y,_e)=>_e===o?s:y),g={...c,sets:u},C=this.replaceExerciseAtIndex(t,g);this.set({...r,exercises:C})}deleteSet(t,o){const s=this.currentState,r=s.exercises[t],c=r.sets.filter((C,y)=>o!==y),u={...r,sets:c},g=this.replaceExerciseAtIndex(t,u);this.set({...s,exercises:g})}removeExercise(t){const o=this.currentState,s=o.exercises.filter((r,c)=>t!==c);this.set({...o,exercises:s})}replaceExerciseAtIndex(t,o){return this.currentState.exercises.map((s,r)=>r===t?o:s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var E=l(5718);let w=(()=>{class n{constructor(t){this.http=t,this.workouts=[],this.workouts$=new b.X(this.workouts)}get(){var t=this;return(0,p.Z)(function*(){const s=(yield t.http.get("workouts")).workouts.map(r=>new m(r));return t.workouts=s,t.workouts$.next(t.workouts),s})()}getById(t){var o=this;return(0,p.Z)(function*(){return o.workouts.length||(yield o.get()),o.workouts.find(s=>s.id===t)})()}addWorkout(t){var o=this;return(0,p.Z)(function*(){const s=yield o.http.post("workouts",t),r=[...o.workouts,s];o.workouts$.next(r)})()}update(t){var o=this;return(0,p.Z)(function*(){return o.http.put(`workouts/${t.id}`,t)})()}delete(t){var o=this;return(0,p.Z)(function*(){return o.http.delete(`workouts/${t}`)})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.n))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W=["*"];let T=(()=>{class n{constructor(t){this._baseHref=t,this.isActive=!1}get baseUrl(){return this._baseHref}activate(){this.toggle(!0)}deactivate(){this.toggle(!1)}toggle(t,o){o?.stopPropagation(),this.isActive=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.mr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["Expander"]],ngContentSelectors:W,decls:5,vars:3,consts:[[1,"expander-wrapper"],[1,"expander-btn",3,"click"],["alt","...",3,"src"],[1,"expander-content"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(r){return o.toggle(!0,r)}),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e.Hsn(4),e.qZA()()),2&t&&(e.xp6(2),e.MGl("src","",o.baseUrl,"assets/ellipse.svg",e.LSH),e.xp6(1),e.ekj("active",o.isActive))},styles:['.expander-wrapper[_ngcontent-%COMP%]{position:relative}.expander-wrapper.active[_ngcontent-%COMP%]{z-index:4}.expander-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px}.expander-btn[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:700;line-height:6px;width:30px;height:15px;padding:0 6px;background:#457B9D;border-radius:8px;position:absolute;right:0;top:2px;cursor:pointer;z-index:1;opacity:1;letter-spacing:1px}.expander-btn.active[_ngcontent-%COMP%]{opacity:0;z-index:0}.expander-btn[_ngcontent-%COMP%]:before{content:"";padding:15px;width:30px;position:absolute;left:0;top:-50%;z-index:-1;background:transparent}.expander-content[_ngcontent-%COMP%]{display:grid;grid-auto-rows:20px;row-gap:5px;color:#fff;padding:10px;min-width:120px;min-height:60px;box-sizing:border-box;border-radius:8px;box-shadow:0 3px 6px 1px #3c3c3c;background:#457B9D;opacity:0;visibility:hidden;position:absolute;transform:translate3d(-100%,-20px,0);transition:transform .35s ease,opacity .35s ease}.expander-content.active[_ngcontent-%COMP%]{position:absolute;opacity:1;z-index:10;visibility:visible;transform:translate3d(-100%,0,0);transition:transform .35s ease,opacity .35s ease}.expander-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer}']}),n})(),Z=(()=>{class n{constructor(){this.clicked=new e.vpe,this.isActive=!1}dismiss(){this.clicked.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["Backdrop"]],inputs:{isActive:"isActive"},outputs:{clicked:"clicked"},decls:1,vars:2,consts:[[1,"global-backdrop",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.dismiss()}),e.qZA()),2&t&&e.ekj("active",o.isActive)},encapsulation:2}),n})();var F=l(6498),J=l(6688),I=l(7043),q=l(4850);function k(n,i,t,o){return(0,I.m)(t)&&(o=t,t=void 0),o?k(n,i,t).pipe((0,q.U)(s=>(0,J.k)(s)?o(...s):o(s))):new F.y(s=>{O(n,i,function r(c){s.next(arguments.length>1?Array.prototype.slice.call(arguments):c)},s,t)})}function O(n,i,t,o,s){let r;if(function D(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const c=n;n.addEventListener(i,t,s),r=()=>c.removeEventListener(i,t,s)}else if(function U(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const c=n;n.on(i,t),r=()=>c.off(i,t)}else if(function B(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const c=n;n.addListener(i,t),r=()=>c.removeListener(i,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let c=0,u=n.length;c<u;c++)O(n[c],i,t,o,s)}o.add(r)}var Q=l(7224);const P=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var i=16*Math.random()|0;return("x"===n?i:i&&11).toString(16)});function z(n,i){1&n&&e._UZ(0,"img",3)}let A=(()=>{class n{constructor(){this.selected=!1,this.disabled=!1,this.selectedChange=new e.vpe,this.id=P()}onSelected(){this.disabled||(this.selected=!this.selected,this.selectedChange.emit())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["Checkbox"]],inputs:{selected:"selected",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},decls:3,vars:1,consts:[[1,"checkbox",3,"click"],[1,"checkbox-checkmark"],["src","assets/checkmark.png",4,"ngIf"],["src","assets/checkmark.png"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.onSelected()}),e.TgZ(1,"div",1),e.YNc(2,z,1,0,"img",2),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",o.selected))},dependencies:[d.O5],encapsulation:2,changeDetection:0}),n})();const $=["ContentWrapper"],Y=function(n){return{transform:n}};let L=(()=>{class n{constructor(t){this.state=t,this.set=new _,this.exerciseIndex=0,this.setIndex=0,this.position=0}ngAfterViewInit(){setTimeout(()=>{this.attachSwipeToDeleteListener()},0)}attachSwipeToDeleteListener(){const t=this.contentWrapperRef?.nativeElement;k(t,"touchstart").subscribe(o=>{let s=o.touches[0].clientX;const r=k(t,"touchmove").subscribe(c=>{const g=Math.round(s-c.touches[0].clientX);g<=0?this.slideBack():this.position=g>=50?-100:-g});k(t,"touchend").pipe((0,Q.P)()).subscribe(()=>{r.unsubscribe(),Math.abs(this.position)>=100||this.slideBack()})})}slideBack(){if(this.position<0){let t=this.position+2;this.position=t>=0?0:t,requestAnimationFrame(this.slideBack.bind(this))}}onComplete(){const t={...this.set,isComplete:!this.set.isComplete};this.updateState(t)}onRepsChanged(t){const s={...this.set,reps:parseInt(t.target.value)};this.updateState(s)}onWeightChanged(t){const s={...this.set,weight:parseInt(t.target.value)};this.updateState(s)}delete(){this.state.deleteSet(this.exerciseIndex,this.setIndex)}updateState(t){this.state.updateSet(this.exerciseIndex,this.setIndex,t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["Set"]],viewQuery:function(t,o){if(1&t&&e.Gf($,5),2&t){let s;e.iGM(s=e.CRH())&&(o.contentWrapperRef=s.first)}},inputs:{set:"set",exerciseIndex:"exerciseIndex",setIndex:"setIndex"},decls:13,vars:12,consts:[[1,"set"],["ContentWrapper",""],[1,"set-delete"],[3,"click"],[1,"set-num"],["type","number",1,"set-input",3,"value","disabled","blur"],[3,"selected","selectedChange"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"span",3),e.NdJ("click",function(){return o.delete()}),e._uU(4,"Delete"),e.qZA()(),e.TgZ(5,"div",4),e._uU(6),e.qZA(),e.TgZ(7,"div")(8,"input",5),e.NdJ("blur",function(r){return o.onWeightChanged(r)}),e.qZA()(),e.TgZ(9,"div")(10,"input",5),e.NdJ("blur",function(r){return o.onRepsChanged(r)}),e.qZA()(),e.TgZ(11,"div")(12,"Checkbox",6),e.NdJ("selectedChange",function(){return o.onComplete()}),e.qZA()()()),2&t&&(e.Akn(e.VKq(10,Y,"translateX("+o.position+"px)")),e.ekj("complete",o.set.isComplete),e.xp6(6),e.Oqu(o.setIndex+1),e.xp6(2),e.Q6J("value",o.set.weight)("disabled",o.set.isComplete),e.xp6(2),e.Q6J("value",o.set.reps)("disabled",o.set.isComplete),e.xp6(2),e.Q6J("selected",o.set.isComplete))},dependencies:[A],styles:[".set[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 35px;padding:8px 0;transform:translate(0);position:relative;align-items:center}.set[_ngcontent-%COMP%]   input.set-input[_ngcontent-%COMP%], .set[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{height:20px}.set.complete[_ngcontent-%COMP%]{background:rgba(165,202,165,.4509803922)}.set.complete[_ngcontent-%COMP%]   input.set-input[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(127,171,127,.4509803922);color:#7fab7f73;height:20px}.set-num[_ngcontent-%COMP%]{padding-left:14px}.set-delete[_ngcontent-%COMP%]{position:absolute;width:350px;right:-360px;top:0;bottom:0;background:rgb(203,70,70);display:grid;align-items:center}.set-delete[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px;color:#fff;font-weight:700}"]}),n})();const X=["Expander"];function G(n,i){if(1&n&&e._UZ(0,"Set",12),2&n){const t=i.$implicit,o=i.index,s=e.oxw();e.Q6J("set",t)("exerciseIndex",s.exerciseIndex)("setIndex",o)}}let K=(()=>{class n{constructor(t){this.state=t,this.exercise=new v,this.exerciseIndex=0}remove(){this.state.removeExercise(this.exerciseIndex)}addSet(){this.state.addSet(this.exerciseIndex)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ExerciseCard"]],viewQuery:function(t,o){if(1&t&&e.Gf(X,5),2&t){let s;e.iGM(s=e.CRH())&&(o.expanderRef=s.first)}},inputs:{exercise:"exercise",exerciseIndex:"exerciseIndex"},decls:24,vars:5,consts:[[1,"exercise-wrapper"],[1,"exercise-title-wrapper"],[1,"exercise-title"],["Expander",""],[3,"click"],[1,"exercise-set-wrapper"],[1,"exercise-sets-header"],[3,"selected","disabled"],[1,"exercise-sets"],[3,"set","exerciseIndex","setIndex",4,"ngFor","ngForOf"],[1,"AddSetBtn",3,"click"],[3,"isActive","clicked"],[3,"set","exerciseIndex","setIndex"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"Expander",null,3)(6,"span",4),e.NdJ("click",function(){return o.remove()}),e._uU(7,"Remove"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div"),e._uU(11,"Set"),e.qZA(),e.TgZ(12,"div"),e._uU(13,"lbs"),e.qZA(),e.TgZ(14,"div"),e._uU(15,"Reps"),e.qZA(),e.TgZ(16,"div"),e._UZ(17,"Checkbox",7),e.qZA()(),e.TgZ(18,"div",8),e.YNc(19,G,1,3,"Set",9),e.qZA()(),e.TgZ(20,"div",10),e.NdJ("click",function(){return o.addSet()}),e.TgZ(21,"span"),e._uU(22,"Add Set"),e.qZA()()(),e.TgZ(23,"Backdrop",11),e.NdJ("clicked",function(){e.CHM(s);const c=e.MAs(5);return e.KtG(c.deactivate())}),e.qZA()}if(2&t){const s=e.MAs(5);e.xp6(3),e.hij(" ",o.exercise.title," "),e.xp6(14),e.Q6J("selected",!0)("disabled",!0),e.xp6(2),e.Q6J("ngForOf",o.exercise.sets),e.xp6(4),e.Q6J("isActive",s.isActive)}},dependencies:[d.sg,T,Z,L,A],styles:[".exercise-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.exercise-title[_ngcontent-%COMP%]{color:#0093ff}.exercise-set-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.exercise-sets-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 35px;margin:10px 0}.exercise-sets-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px}.exercise-title-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;font-size:16px;margin-bottom:20px}.exercise-sets[_ngcontent-%COMP%]{display:grid;row-gap:3px}.AddSetBtn[_ngcontent-%COMP%]{display:flex;justify-content:center;background:rgb(213,213,213);border-radius:8px;font-size:14px;padding:3px}"]}),n})(),V=(()=>{class n{constructor(){this._time=0,this._startTime=0}get formattedTime(){return(n=>{let o="0";n>=60&&(o=Math.floor(n/3600),n-=3600*o);const s=function R(n){if(n>=60){let i=Math.floor(n/60),t=n%60;return t=t<10?`0${t}`:t,i=i<10?`0${i}`:i,`${i}:${t}`}return n<10?`00:0${n}`:`00:${n}`}(n);return o+":"+s})(this._time)}ngOnInit(){this._startTime=(new Date).valueOf(),this._interval=setInterval(()=>{this._time=(n=>Math.round(((new Date).valueOf()-n)/1e3))(this._startTime)},200)}ngOnDestroy(){clearInterval(this._interval)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["Timer"]],decls:2,vars:1,consts:[[1,"timer"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu(o.formattedTime))},encapsulation:2}),n})();const a="https://static.thenounproject.com/png/1365947-200.png",j=[{title:"Pull Ups",image:a},{title:"Bench Press",image:a},{title:"Inclinde Bench",image:a},{title:"Barbel Squat",image:a},{title:"Incline Press",image:a},{title:"Bulgarian Squat",image:a},{title:"Deadlift",image:a},{title:"Romanian Deadlift",image:a},{title:"Straight Leg Deadlift",image:a},{title:"Barbel Curl",image:a},{title:"Hip Thrusts",image:a},{title:"Lat Pulldown",image:a},{title:"Bent Over Rows",image:a},{title:"Chest Fly",image:a},{title:"Tricep Extension",image:a},{title:"Bicep Curl",image:a},{title:"Lateral Raise",image:a},{title:"Dips",image:a}];function ee(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.select(r))}),e._UZ(2,"img",7),e.TgZ(3,"label"),e._uU(4),e.qZA()(),e.BQk()}if(2&n){const t=i.$implicit;e.xp6(2),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.title)}}function te(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Pick a Exercise"),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,ee,5,2,"ng-container",4),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.close())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.exercises)}}let ne=(()=>{class n{constructor(t){this.windowRef=t,this.closed=new e.vpe,this.selected=new e.vpe,this._isOpen=!1,this.exercises=j}set isOpen(t){this._isOpen=t,this.isOpen?this.preventScrolling():this.allowScrolling()}get isOpen(){return this._isOpen}preventScrolling(){this.windowRef.document.body.style.overflow="hidden"}allowScrolling(){this.windowRef.document.body.style.overflow="unset"}close(){this.closed.emit()}select(t){this.selected.emit(t),this.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36("Window"))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exercise-picker"]],inputs:{isOpen:"isOpen"},outputs:{closed:"closed",selected:"selected"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"exercise-picker"],[1,"exercise-picker-content"],[1,"exercise-picker-list"],[4,"ngFor","ngForOf"],[1,"exercise-picker-backdrop",3,"click"],[1,"exercise-picker-list-item",3,"click"],["alt","workout",3,"src"]],template:function(t,o){1&t&&e.YNc(0,te,8,1,"ng-container",0),2&t&&e.Q6J("ngIf",o.isOpen)},dependencies:[d.sg,d.O5],styles:[".exercise-picker[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;align-items:center;inset:0;z-index:1}.exercise-picker[_ngcontent-%COMP%]   .exercise-picker-content[_ngcontent-%COMP%]{margin-bottom:1rem;width:90vw;min-width:300px;max-width:500px;min-height:300px;background:white;border-radius:8px;padding:30px;animation:SlideInFromBottom .3s ease-in-out;z-index:1;box-sizing:border-box}.exercise-picker[_ngcontent-%COMP%]   .exercise-picker-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}.exercise-picker[_ngcontent-%COMP%]   .exercise-picker-list[_ngcontent-%COMP%]{height:300px;border-top:1px solid #d5d5d5;border-bottom:1px solid #d5d5d5;overflow-y:scroll}.exercise-picker[_ngcontent-%COMP%]   .exercise-picker-list[_ngcontent-%COMP%]   .exercise-picker-list-item[_ngcontent-%COMP%]{display:flex;column-gap:10px;align-items:center;padding:5px 0}.exercise-picker[_ngcontent-%COMP%]   .exercise-picker-list[_ngcontent-%COMP%]   .exercise-picker-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}@keyframes SlideInFromBottom{0%{transform:translateY(100px)}to{transform:translateY(0)}}.exercise-picker-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.5)}"]}),n})();function oe(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"ExerciseCard",10),e.qZA()),2&n){const t=i.$implicit,o=i.index;e.xp6(1),e.Q6J("exercise",t)("exerciseIndex",o)}}let ie=(()=>{class n{constructor(t,o,s,r){this.router=t,this.workoutService=o,this.state=s,this.routing=r,this.workout=new m,this.isChoosingExercise=!1}ngOnInit(){this.state.watch().subscribe(t=>this.workout=t),this.router.paramMap.subscribe(t=>{const o=t.get("id");o&&this.getWorkout(o)})}complete(){var t=this;return(0,p.Z)(function*(){yield t.workoutService.update(t.workout),t.routing.navigate([""])})()}cancel(){var t=this;return(0,p.Z)(function*(){yield t.workoutService.update(t.workout),t.routing.navigate([""])})()}addExercise(t){this.state.addExercise(t.title)}openExercisePicker(){this.isChoosingExercise=!0}getWorkout(t){var o=this;return(0,p.Z)(function*(){const s=yield o.workoutService.getById(t);o.state.set(s)})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.gz),e.Y36(w),e.Y36(f),e.Y36(x.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-workout-detail"]],inputs:{workout:"workout"},features:[e._Bn([f])],decls:16,vars:3,consts:[[1,"workout-detail"],[1,"workout-detail-header"],[3,"click"],[1,"secondary",3,"click"],[1,"workout-detail-title"],[1,"workout-detail-sets"],[4,"ngFor","ngForOf"],[1,"workout-detail-add-exercise"],[1,"pill-button--blue",3,"click"],[3,"isOpen","closed","selected"],[3,"exercise","exerciseIndex"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.complete()}),e._uU(3,"Finish"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return o.cancel()}),e._uU(5,"Cancel"),e.qZA()(),e.TgZ(6,"div",4)(7,"h2"),e._uU(8),e.qZA(),e._UZ(9,"Timer"),e.qZA(),e.TgZ(10,"div",5),e.YNc(11,oe,2,2,"div",6),e.qZA(),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return o.openExercisePicker()}),e._uU(14,"Add Exercise"),e.qZA()()(),e.TgZ(15,"app-exercise-picker",9),e.NdJ("closed",function(){return o.isChoosingExercise=!1})("selected",function(r){return o.addExercise(r)}),e.qZA()),2&t&&(e.xp6(8),e.Oqu(o.workout.title),e.xp6(3),e.Q6J("ngForOf",o.workout.exercises),e.xp6(4),e.Q6J("isOpen",o.isChoosingExercise))},dependencies:[d.sg,K,V,ne],styles:[".workout-detail[_ngcontent-%COMP%]{display:grid;padding:20px 20px 50px}.workout-detail-title[_ngcontent-%COMP%]{margin-bottom:20px}.workout-detail-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5px}.workout-detail-header[_ngcontent-%COMP%]{display:flex;column-gap:10px;margin-bottom:20px;justify-content:space-between;align-items:center}.workout-detail-sets[_ngcontent-%COMP%]{display:grid;overflow:hidden}.ModalContentTitle[_ngcontent-%COMP%], .FinishModalTitle[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:20px}.FinishModalActions[_ngcontent-%COMP%]{display:grid;row-gap:10px}.workout-detail-add-exercise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]}),n})();const se=[[["","modalHeader",""]],[["","modalBody",""]],[["","modalFooter",""]]],re=["[modalHeader]","[modalBody]","[modalFooter]"];let ce=(()=>{class n{constructor(t){this.windowRef=t,this.close=new e.vpe,this._isActive=!1}set isActive(t){this._isActive=t,this.isActive?this.preventScrolling():this.allowScrolling()}get isActive(){return this._isActive}preventScrolling(){this.windowRef.document.body.style.overflow="hidden"}allowScrolling(){this.windowRef.document.body.style.overflow="unset"}deactivate(){this.isActive=!1,this.close.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36("Window"))},n.\u0275cmp=e.Xpm({type:n,selectors:[["Modal"]],inputs:{isActive:"isActive"},outputs:{close:"close"},ngContentSelectors:re,decls:7,vars:4,consts:[[1,"modal"],["modalRef",""],[1,"global-backdrop",3,"click"]],template:function(t,o){1&t&&(e.F$t(se),e.TgZ(0,"div",0,1),e.Hsn(2),e.Hsn(3,1),e.Hsn(4,2),e.qZA(),e.TgZ(5,"div",2),e.NdJ("click",function(){return o.deactivate()}),e._UZ(6,"div"),e.qZA()),2&t&&(e.ekj("active",o.isActive),e.xp6(5),e.ekj("active",o.isActive))},encapsulation:2}),n})();const ae=["Expander"];function le(n,i){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.title)}}const pe=function(n){return["workout",n]};let de=(()=>{class n{constructor(t){this.workoutsService=t,this.workout=new m}delete(t){var o=this;return(0,p.Z)(function*(){t.stopPropagation(),yield o.workoutsService.delete(o.workout.id),yield o.workoutsService.get(),o.expander?.deactivate()})()}viewHistory(t){t.stopPropagation(),console.log("viewHistory!"),this.expander?.deactivate()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w))},n.\u0275cmp=e.Xpm({type:n,selectors:[["WorkoutCard"]],viewQuery:function(t,o){if(1&t&&e.Gf(ae,5),2&t){let s;e.iGM(s=e.CRH())&&(o.expander=s.first)}},inputs:{workout:"workout"},decls:14,vars:6,consts:[[1,"wrapper",3,"routerLink"],[1,"expander"],["Expander",""],[3,"click"],[4,"ngFor","ngForOf"],[3,"isActive","clicked"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"Expander",null,2)(4,"div",3),e.NdJ("click",function(c){return o.viewHistory(c)}),e._uU(5,"View History"),e.qZA(),e.TgZ(6,"div",3),e.NdJ("click",function(c){return o.delete(c)}),e._uU(7,"Delete"),e.qZA()()(),e.TgZ(8,"div")(9,"label"),e._uU(10),e.qZA(),e.TgZ(11,"ul"),e.YNc(12,le,2,1,"li",4),e.qZA()()(),e.TgZ(13,"Backdrop",5),e.NdJ("clicked",function(){e.CHM(s);const c=e.MAs(3);return e.KtG(c.deactivate())}),e.qZA()}if(2&t){const s=e.MAs(3);e.Q6J("routerLink",e.VKq(4,pe,o.workout.id)),e.xp6(10),e.Oqu(o.workout.title),e.xp6(2),e.Q6J("ngForOf",o.workout.exercises),e.xp6(1),e.Q6J("isActive",s.isActive)}},dependencies:[d.sg,T,Z,x.rH],styles:[".wrapper[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:20px;position:relative}.wrapper[_ngcontent-%COMP%]:active{background:#f5f5f5}.wrapper[_ngcontent-%COMP%]:hover{cursor:pointer}.wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;display:block;margin-bottom:10px}.wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;list-style:circle}.wrapper-active[_ngcontent-%COMP%]   .Expander[_ngcontent-%COMP%]{z-index:10}.expander[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}"],changeDetection:0}),n})();function ue(n,i){1&n&&e._UZ(0,"WorkoutCard",10),2&n&&e.Q6J("workout",i.$implicit)}const ge=[{path:"",component:(()=>{class n{constructor(t){this.workoutsService=t,this.workouts=[],this.isActive=!1,this.newWorkoutTitle=""}ngOnInit(){var t=this;return(0,p.Z)(function*(){yield t.workoutsService.get(),t.workoutsService.workouts$.subscribe(o=>{t.workouts=o})})()}openModal(){this.isActive=!0}closeModal(){this.isActive=!1,this.newWorkoutTitle=""}createWorkout(){var t=this;return(0,p.Z)(function*(){const o=new m;o.title=t.newWorkoutTitle,o.id=P(),yield t.workoutsService.addWorkout(o),t.closeModal()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-workouts"]],decls:20,vars:3,consts:[[1,"wrapper"],[1,"start-cta"],[3,"click"],[1,"workout-section"],[3,"workout",4,"ngFor","ngForOf"],[3,"isActive","close"],["modalBody","",1,"new-workout"],["type","text",1,"standard",3,"ngModel","ngModelChange"],[1,"new-workout-btns"],[1,"link-button",3,"click"],[3,"workout"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Workout Tracker"),e.qZA(),e.TgZ(3,"div",1)(4,"button",2),e.NdJ("click",function(){return o.openModal()}),e._uU(5,"Start New Workout"),e.qZA()(),e.TgZ(6,"div",3)(7,"h3"),e._uU(8,"Workouts"),e.qZA(),e.YNc(9,ue,1,1,"WorkoutCard",4),e.qZA(),e.TgZ(10,"Modal",5),e.NdJ("close",function(){return o.closeModal()}),e.TgZ(11,"div",6)(12,"label"),e._uU(13,"Name your workout: "),e.qZA(),e.TgZ(14,"input",7),e.NdJ("ngModelChange",function(r){return o.newWorkoutTitle=r}),e.qZA(),e.TgZ(15,"div",8)(16,"button",2),e.NdJ("click",function(){return o.createWorkout()}),e._uU(17," Create "),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){return o.closeModal()}),e._uU(19," Cancel "),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",o.workouts),e.xp6(1),e.Q6J("isActive",o.isActive),e.xp6(4),e.Q6J("ngModel",o.newWorkoutTitle))},dependencies:[d.sg,h.Fj,h.JJ,h.On,ce,de],styles:[".wrapper[_ngcontent-%COMP%]{padding:20px}.wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px}.start-cta[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.workout-section[_ngcontent-%COMP%]{display:grid;row-gap:1em;column-gap:2em}.workout-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px}.add-workout[_ngcontent-%COMP%]{display:grid;row-gap:1em}.add-workout[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:48px;border-radius:6px;outline:none;border:1px solid gray;padding-left:8px;box-sizing:border-box;color:#333;font-size:15px;font-weight:700}.new-workout[_ngcontent-%COMP%]{display:grid;row-gap:10px}.new-workout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:5px}.new-workout[_ngcontent-%COMP%]   .new-workout-btns[_ngcontent-%COMP%]{display:grid}"]}),n})()},{path:"workout/:id",component:ie}];let me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[x.Bz.forChild(ge),x.Bz]}),n})();var xe=l(4466);let he=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,h.u5,xe.m,me]}),n})()}}]);